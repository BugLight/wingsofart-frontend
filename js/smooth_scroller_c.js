var smooth_scroller=function(self){self.scrollToPosition=function(target_position,vertical,parent,callback,args){var now=vertical?parent.scrollTop:parent.scrollLeft;if(target_position>now){var j=target_position-now;console.log(j);var timer=setTimeout(function scrollForward(j){if(j==0){callback(args);return}j--;if(vertical)parent.scrollTop++;else parent.scrollLeft++;setTimeout(scrollForward,0,j)},0,j)}else{var j=now-target_position;console.log(j);var timer=setTimeout(function scrollBack(j){if(j==0){callback(args);return}j--;if(vertical)parent.scrollTop--;else parent.scrollLeft--;setTimeout(scrollBack,0,j)},0,j)}};self.scrollToId=function(id,vertical,parent,callback,args){var target=document.getElementById(id);if(vertical)var target_position=target.offsetTop;else var target_position=target.offsetLeft;if(target.parentElement!=document.body){if(vertical)target_position-=target.parentElement.offsetTop;else target_position-=target.parentElement.offsetLeft}if(!parent)self.scrollToPosition(target_position,vertical,target.parentElement,callback,args);else self.scrollToPosition(target_position,vertical,parent,callback,args)};self.scrollToHome=function(){self.scrollToPosition(0,true,document.body,function(args){},{})};self.scrollToEnd=function(){var page_count=document.getElementsByClassName("page").length;var root={};if(navigator.userAgent.indexOf("Firefox")>-1)root=document.documentElement;else root=document.body;if(page_count==0){if(navigator.userAgent.indexOf("Firefox")>-1)setTimeout(function(){root.scrollTop=root.clientHeight},1e3);else self.scrollToPosition(root.clientHeight,true,root,function(args){},{})}else{self.scrollToPosition((page_count-1)*root.clientHeight,true,root,function(args){},{})}};return self}(smooth_scroller||{});
