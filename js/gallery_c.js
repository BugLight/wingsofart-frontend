var smooth_scroller=smooth_scroller||false;var gallery=function(self,smooth_scroller){if(!smooth_scroller){console.log("Failed to load smooth_scroller!");return{}}self.Gallery=function(config){var config=config||{};if(config.hasOwnProperty("slide_count"))this.slide_count=config.slide_count;else throw new Error("Configuration is incorrect!");if(config.hasOwnProperty("vertical"))this.vertical=config.vertical;else throw new Error("Configuration is incorrect!");if(config.hasOwnProperty("id")){this.id=config.id}else{}this.slide=1;this.timer=null;this.forward=true;this.scrolling=false;this.changeDirection=function(){this.forward=!this.forward};this.changeDirectionIfNeeded=function(){if(this.slide==this.slide_count)this.forward=false;if(this.slide==1)this.forward=true};this.stopScroll=function(){if(this.timer!=null)clearTimeout(this.timer)};this.getDom=function(){return document.getElementById(this.id)};this.autoScroll=function(delay){this.timer=setTimeout(function slide(gallery_obj){if(gallery_obj.scrolling){setTimeout(slide,delay,gallery_obj);return}gallery_obj.scrolling=true;if(gallery_obj.forward)gallery_obj.slide++;else gallery_obj.slide--;gallery_obj.changeDirectionIfNeeded();args={slide:slide,delay:delay,gallery_obj:gallery_obj};var next=gallery_obj.id+"-"+gallery_obj.slide.toString();smooth_scroller.scrollToId(next,gallery_obj.vertical,gallery_obj.getDom(),function(args){setTimeout(args.slide,args.delay,args.gallery_obj);args.gallery_obj.scrolling=false},args)},delay,this);return this.timer};this.nextSlide=function(){if(this.slide+1>this.slide_count||this.scrolling)return false;this.scrolling=true;this.slide++;var id_next=this.id+"-"+this.slide.toString();console.log(id_next);smooth_scroller.scrollToId(id_next,this.vertical,this.getDom(),function(args){args.gallery_obj.changeDirectionIfNeeded();args.gallery_obj.scrolling=false},{gallery_obj:this});return true};this.previousSlide=function(){if(this.slide-1<1||this.scrolling)return false;this.scrolling=true;this.slide--;var id_next=this.id+"-"+this.slide.toString();smooth_scroller.scrollToId(id_next,this.vertical,this.getDom(),function(args){args.gallery_obj.changeDirectionIfNeeded();args.gallery_obj.scrolling=false},{gallery_obj:this});return true}};return self}(gallery||{},smooth_scroller);