<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: smooth_scroller.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: smooth_scroller.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @callback Callback
 * @param {Object[]} [args]
 */

/** @namespace smooth_scroller */
var smooth_scroller = (function (self) {
	/*

	Module methods:
		public:
			scrollToPosition(target_position, vertical, parent, callback, args)
			scrollToId(id, vertical, callback, args)
			scrollToHome()
			scrollToEnd()
	Module variables:
		--
	Module dependencies:
		--

	*/


	/**
	 * 
	 * @function scrollToPosition
	 * @memberof smooth_scroller
	 *  @param {Number} target_position - X or Y coordinate
	 *  @param {Boolean} vertical - X or Y scroll
	 *  @param {Object} parent - element should be srolled
	 *  @param {Callback} callback - when scrolled
	 *  @param {Object[]} [args]
	 * @static
	 */
	self.scrollToPosition = function (target_position, vertical, parent, callback, args)
	{
		var now = vertical ? parent.scrollTop : parent.scrollLeft;
		if (target_position > now)
		{
			var j = target_position - now;
			console.log(j);
			var timer = setTimeout(function scrollForward(j) {
				if (j == 0)
				{
					callback(args);
					return;
				}
				j--;
				if (vertical)
					parent.scrollTop++;
				else
					parent.scrollLeft++;
				setTimeout(scrollForward, 0, j);
			}, 0, j);		
		}
		else
		{
			var j = now - target_position;
			console.log(j);
			var timer = setTimeout(function scrollBack(j) {
				if (j == 0)
				{
					callback(args);
					return;
				}
				j--;
				if (vertical)
					parent.scrollTop--;
				else
					parent.scrollLeft--;
				setTimeout(scrollBack, 0, j);
			}, 0, j);	
		}
	};

	/**
	 * 
	 * @function scrollToId
	 * @memberof smooth_scroller
	 *  @param {String} id
	 *	@param {Boolean} vertical
	 * 	@param {Object} parent
	 *  @param {Callback} callback
	 *  @param {Object[]} [args]
	 * @static
	 */
	self.scrollToId = function (id, vertical, parent, callback, args)
	{
		/*

		This method ables smooth scroll to element selected by id.
		Important! works only in 100% scale.

		*/

		var target = document.getElementById(id);
		if (vertical)
			var target_position = target.offsetTop;
		else
			var target_position = target.offsetLeft;
		if (target.parentElement != document.body)
		{
			if (vertical)
				target_position -= target.parentElement.offsetTop;
			else
				target_position -= target.parentElement.offsetLeft;
		}
		if (!parent)
			self.scrollToPosition(target_position, vertical, target.parentElement, callback, args);
		else
			self.scrollToPosition(target_position, vertical, parent, callback, args);
	};

	/**
	 * Scrolls to top of the page.
	 * @function scroolToHome
	 * @memberof smooth_scroller
	 * @static
	 */
	self.scrollToHome = function ()
	{
		self.scrollToPosition(0, true, document.body, function(args) {}, {});
	};

	/**
	 * Scrolls to bottom of the page.
	 * @function scroolToEnd
	 * @memberof smooth_scroller
	 * @static
	 */
	self.scrollToEnd = function ()
	{
		var page_count = document.getElementsByClassName("page").length;
		var root = {};
		if (navigator.userAgent.indexOf("Firefox") > -1)
			root = document.documentElement;
		else
			root = document.body;
		if (page_count == 0)
		{
			if (navigator.userAgent.indexOf("Firefox") > -1)
				setTimeout(function() {root.scrollTop = root.clientHeight;}, 1000);
			else
				self.scrollToPosition(root.clientHeight, true, root, function(args) {}, {});
		}
		else
		{
			self.scrollToPosition((page_count - 1) * root.clientHeight, true, root, function(args) {}, {});
		}
	};

return self;
}(smooth_scroller || {}));</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="gallery.Gallery.html">Gallery</a></li></ul><h3>Namespaces</h3><ul><li><a href="gallery.html">gallery</a></li><li><a href="lib.html">lib</a></li><li><a href="smooth_scroller.html">smooth_scroller</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Mon Aug 03 2015 23:19:05 GMT+0400 (Московское время (лето))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
